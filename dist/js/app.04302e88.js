(function(t){function e(e){for(var o,n,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&m.push(a[n][0]),a[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],o=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=r[0]))}return t}var o={},a={app:0},s=[];function n(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=o,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0025":function(t,e,r){},"034f":function(t,e,r){"use strict";var o=r("85ec"),a=r.n(o);a.a},"039a":function(t,e,r){"use strict";var o=r("7174"),a=r.n(o);a.a},"0cec":function(t,e,r){"use strict";var o=r("25a8"),a=r.n(o);a.a},"0ea0":function(t,e,r){},"223a":function(t,e,r){"use strict";var o=r("b03b"),a=r.n(o);a.a},"25a8":function(t,e,r){},"29c9":function(t,e,r){"use strict";var o=r("65e5"),a=r.n(o);a.a},"30db":function(t,e,r){"use strict";var o=r("0025"),a=r.n(o);a.a},"49ec":function(t,e,r){"use strict";var o=r("691c"),a=r.n(o);a.a},"4e55":function(t,e,r){"use strict";var o=r("c526"),a=r.n(o);a.a},"56d7":function(t,e,r){"use strict";r.r(e),r.d(e,"db",(function(){return Rt}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"hello"},[r("div",{staticClass:"container"},[r("auth"),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-3 menu"},[r("div",{staticClass:"menu-wrapper"},[r("div",{staticClass:"incart-line"},[t._v("In Cart: "),r("b",[t._v(t._s(t.quantity))])]),r("div",{staticClass:"menu-price"},[t._v("Total: "),r("b",[t._v(t._s(t.shownTotal))])]),r("ul",{staticClass:"list-group"},[t._l(t.menuList,(function(e,o){return r("router-link",{key:"menuItem"+o,staticClass:"list-group-item",attrs:{tag:"li",activeClass:"active",to:e.url}},[r("a",[t._v(t._s(e.name))])])})),t.isLoggedIn?r("router-link",{key:"order-list-menu-item",staticClass:"list-group-item",attrs:{tag:"li",activeClass:"active",to:"/orders"}},[r("a",[t._v("Orders")])]):t._e()],2)])]),r("div",{staticClass:"col-12 col-md-9"},[r("router-view")],1)])],1)]),r("modal",{ref:"modal"})],1)},s=[],n=r("5530"),i=r("2f62"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col auth"},[t.isLoggedIn?[r("span",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"name"}],staticClass:"name"},[t._v("Welcome, "),r("b",[t._v(t._s(t.name))])]),r("a",{staticClass:"register-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])]:[r("a",{staticClass:"login-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Login")]),r("a",{staticClass:"register-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.registration(e)}}},[t._v("Registration")])]],2)])},l=[],u=(r("b0c0"),{name:"Auth",components:{},props:{},data:function(){return{}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},name:function(){return!!this.$store.getters.user&&this.$store.getters.user.name}},mounted:function(){},methods:{login:function(){this.$router.push("/login")},registration:function(){this.$router.push("/register")},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}}}),d=u,m=(r("29c9"),r("2877")),p=Object(m["a"])(d,c,l,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isShown?r("div",{class:["modal",t.strModalVisibleClass,t.strModalUniqueClass]},[r("div",{staticClass:"modal__overlay"},[r("div",{ref:"overlay",staticClass:"modal__wrapper"},[r("div",{staticClass:"modal__body"},[r("button",{staticClass:"btn btn_close modal__close",attrs:{type:"button"},on:{click:t.hideModal}},[t._t("close")],2),r("div",{staticClass:"modal__header"},[r("h2",{staticClass:"modal__title"},[t._v(t._s(t.title))])]),r("div",{staticClass:"modal__content"},[t.strComponentName?[r(t.strComponentName,{tag:"component",attrs:{params:t.obComponentParams},on:{hideModal:t.hideModal}})]:t._e()],2)])])])]):t._e()},v=[],b={name:"Modal",components:{},props:{},data:function(){return{isLockedByOtherPopup:!1}},computed:{strComponentName:function(){return this.$store.state.modal.componentName},title:function(){return this.$store.state.modal.title},obComponentParams:function(){return this.$store.state.modal.params},isShown:function(){return this.$store.state.modal.status},strModalVisibleClass:function(){return this.isShown?"modal_visible":""},strModalUniqueClass:function(){return this.isShown?"modal_".concat(this.strComponentName.toLowerCase()):""}},watch:{isShown:function(t){if(t)this.$nextTick((function(){var t=document.querySelector("body");if(t.classList.contains("body_locked"))this.isLockedByOtherPopup=!0;else{var e=this.calculateScrollbarWidth();t.classList.add("body_locked"),t.style.marginRight=e+"px"}this.$refs.overlay.addEventListener("click",this.hideModalByOuterCLick),document.addEventListener("keydown",this.hideModalByEsc)}));else if(!this.isLockedByOtherPopup){var e=document.querySelector("body");e.classList.remove("body_locked"),e.style.marginRight="",this.$refs.overlay.removeEventListener("click",this.hideModalByOuterCLick),document.removeEventListener("keydown",this.hideModalByEsc)}}},mounted:function(){},beforeDestroy:function(){},methods:{hideModal:function(){this.$store.dispatch("modal/hideModal")},hideModalByOuterCLick:function(t){t.target==this.$refs.overlay&&this.hideModal()},hideModalByEsc:function(t){var e=27;t.keyCode===e&&this.hideModal()},calculateScrollbarWidth:function(){var t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t);var e=t.offsetWidth-t.clientWidth;return t.remove(),e}}},g=b,_=(r("30db"),Object(m["a"])(g,h,v,!1,null,null,null)),y=_.exports,C={name:"App",data:function(){return{}},components:{Auth:f,Modal:y},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(i["c"])("menu",{menuList:"items"})),Object(i["c"])("cart",{quantity:"quantity",shownTotal:"shownTotal"})),{},{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}),created:function(){this.$store.dispatch("autoLogin"),this.$store.dispatch("fetchUser"),this.$store.dispatch("fetchOrders")},watch:{},methods:{}},w=C,P=(r("034f"),Object(m["a"])(w,a,s,!1,null,null,null)),k=P.exports,I=(r("99af"),r("c975"),r("d81d"),r("13d5"),r("a434"),r("b680"),{namespaced:!0,state:{products:[],toUsdCoefficient:1.18,delivery:5},getters:{products:function(t){return t.products},quantity:function(t){return t.products.length},total:function(t,e){return e.quantity>0?t.products.reduce((function(t,e){return t+e.price}),0):0},totalEurFormatted:function(t,e){return"".concat(e.total,"€")},totalUsd:function(t,e){var r=e.total*t.toUsdCoefficient;return r.toFixed()},totalUsdFormatted:function(t,e){return"".concat(e.totalUsd,"$")},shownTotal:function(t,e){return"".concat(e.totalEurFormatted," / ").concat(e.totalUsdFormatted)},toUsdCoefficient:function(t){return t.toUsdCoefficient},eurDeliveryPriceFormatted:function(t){return"".concat(t.delivery,"€")},toUsdDeliveryPrice:function(t){var e=t.delivery*t.toUsdCoefficient;return e.toFixed()},toUsdDeliveryPriceFormatted:function(t,e){return"".concat(e.toUsdDeliveryPrice,"$")},shownDelivery:function(t,e){return"".concat(e.eurDeliveryPriceFormatted," / ").concat(e.toUsdDeliveryPriceFormatted)},totalEurPriceWithDelivery:function(t,e){return t.delivery+parseInt(e.total,10)},totalUsdPriceWithDelivery:function(t,e){return parseInt(e.toUsdDeliveryPrice,10)+parseInt(e.totalUsd,10)},shownTotalPriceWithDelivery:function(t,e){return"".concat(e.totalEurPriceWithDelivery,"€ / ").concat(e.totalUsdPriceWithDelivery,"$")}},mutations:{add:function(t,e){-1===t.products.indexOf(e.id)&&t.products.push(e)},remove:function(t,e){var r=t.products.map((function(t){return t.id})).indexOf(e);-1!==r&&t.products.splice(r,1)},clean:function(t){t.products=[]}},actions:{add:function(t,e){t.commit("add",e)},remove:function(t,e){t.commit("remove",e)},clean:function(t){t.commit("clean")}}}),O={namespaced:!0,state:{items:[{url:"/products",name:"Products"},{url:"/cart",name:"Cart"}]},getters:{items:function(t){return t.items}}},x=(r("4160"),r("159b"),{namespaced:!0,state:{items:j()},getters:{items:function(t){return t.items},itemsMap:function(t){var e={};return t.items.forEach((function(t){e[t.id]=t})),e},item:function(t,e){return function(t){return e.itemsMap[t]}}},mutations:{},actions:{}});function j(){return[{id:1,title:"Margherita",description:"Large portion of mozzarella, tomatoes, Italian herbs, tomato sauce",price:10,src:"https://cdn.dodostatic.net/static/Img/Products/21379561a76646f1945f1bc759c749b5_584x584.jpeg"},{id:7,title:"Pepperoni",description:"Spicy pepperoni, large portion of mozzarella, tomato sauce",price:12,src:"https://cdn.dodostatic.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg"},{id:13,title:"Pizza Pesto",description:"Pesto sauce, cream sauce, chicken, cheese cubes, cherry tomatoes, mozzarella",price:16,src:"https://cdn.dodostatic.net/static/Img/Products/548f06002e5d46c699245285d5f4b1cc_584x584.jpeg"},{id:14,title:"Cheesy Pizza",description:"Large portion of mozzarella, tomato sauce",price:14,src:"https://cdn.dodostatic.net/static/Img/Products/Pizza/ru-RU/2ffc31bb-132c-4c99-b894-53f7107a1441.jpg"},{id:18,title:"Four Seasons",description:"Increased portion of mozzarella, ham, spicy pepperoni, cheese cubes, tomatoes, mushrooms, tomato sauce, Italian herbs",price:13,src:"https://cdn.dodostatic.net/static/Img/Products/Pizza/ru-RU/ec29465e-606b-4a04-a03e-da3940d37e0e.jpg"},{id:140,title:"Pizza Cheeseburger",description:"Meat bolognese sauce, mozzarella, red onion, pickles, tomatoes, burger sauce",price:14,src:"https://cdn.dodostatic.net/static/Img/Products/1959b0fdf5f049fb9ec12cf05d535bc7_584x584.jpeg"},{id:114,title:"Italian Pizza",description:"Italian herbs, spicy pepperoni, tomato sauce, champignons, mozzarella, olives",price:9,src:"https://cdn.dodostatic.net/static/Img/Products/Pizza/ru-RU/5eb7828f-ee6b-44d8-a2ce-058ebf36094e.jpg"},{id:134,title:"Mexican Pizza",description:"Tomato sauce, bell peppers, red onion, mozzarella, hot jalapeno peppers, tomatoes, salsa sauce, spicy chicken",price:15,src:"https://cdn.dodostatic.net/static/Img/Products/Pizza/ru-RU/3354e3c2-8ce0-4d64-a11d-eb4c455b29c6.jpg"}]}var $={namespaced:!0,state:{status:!1,componentName:"",title:"",params:{}},mutations:{setModalComponentName:function(t,e){t.componentName=e},setModalTitle:function(t,e){t.title=e},setModalParams:function(t,e){t.params=e},showModal:function(t){t.status=!0;document.querySelector(".modal__overlay")},hideModal:function(t){t.status=!1,t.componentName=""}},actions:{showModal:function(t,e){var r=t.commit;e=e||{},e.componentName&&r("setModalComponentName",e.componentName),e.title&&r("setModalTitle",e.title),r("setModalParams",e),r("showModal")},hideModal:function(t){var e=t.commit;e("hideModal")}}},E=(r("4fad"),r("d3b7"),r("bc3a")),T=r.n(E),S=r("8c4f"),U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("h1",[t._v("Products")]),r("div",{staticClass:"row"},t._l(t.products,(function(e,o){return r("div",{staticClass:"col-6 col-md-4"},[r("div",{staticClass:"product-card"},[r("router-link",{staticClass:"product-card__image",attrs:{tag:"a",to:"/product/"+e.id}},[e.src?[r("img",{staticClass:"catalog-items__card-preview-pict",attrs:{src:e.src,alt:e.title}})]:t._e()],2),r("router-link",{staticClass:"product-card__name",attrs:{tag:"a",to:"/product/"+e.id}},[t._v(" "+t._s(e.title)+" ")]),r("p",{staticClass:"product-card__desc"},[t._v(t._s(e.description))]),r("div",{staticClass:"product-card__price"},[t._v(" "+t._s(t.shownPrice(e.price))+" ")]),r("div",[t.toggleButtons(e.id)?r("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.addToCart({id:e.id,price:e.price})}}},[t._v(" Add to Cart ")]):r("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.removeFromCart(e.id)}}},[t._v(" Remove from Cart ")])])],1)])})),0)])},M=[],D={name:"ProductsList",components:{},props:{},data:function(){return{}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])("products",{products:"items"})),Object(i["c"])("cart",{inCartQty:"products",toUsdCoefficient:"toUsdCoefficient"})),mounted:function(){},methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])("cart",{addToCart:"add",removeFromCart:"remove"})),{},{toggleButtons:function(t){return-1===this.inCartQty.map((function(t){return t.id})).indexOf(t)},shownPrice:function(t){var e=t*this.toUsdCoefficient;return"".concat(t," € / ").concat(e.toFixed()," $")}})},z=D,L=(r("0cec"),Object(m["a"])(z,U,M,!1,null,null,null)),N=L.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("h1",[t._v(t._s(t.product.title))]),r("div",{staticClass:"alert alert-success"})])},F=[],W={name:"Product",components:{},props:{},data:function(){return{}},computed:{id:function(){return this.$route.params.id},product:function(){return this.$store.getters["products/item"](this.id)}},mounted:function(){},methods:{}},q=W,A=Object(m["a"])(q,B,F,!1,null,null,null),R=A.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart"},[r("h1",[t._v("Cart")]),t.isEmpty?[r("table",{staticClass:"table table-bordered table-hover"},[t._m(0),r("tbody",t._l(t.products,(function(e){return r("tr",[r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.price+" € / "+t.usdProductPrice(e)+" $"))])])})),0)]),r("div",{staticClass:"text-right"},[t._v(" Delivery: "),r("b",[t._v(t._s(t.shownDelivery))])]),r("hr"),r("div",{staticClass:"text-right"},[r("total"),r("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.checkout(e)}}},[t._v("Order now")])],1)]:r("div",{staticClass:"alert alert-warning"},[r("h2",[t._v("Your cart is empty!")])])],2)},Y=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",{staticClass:"table-active"},[r("th",[t._v("Title")]),r("th",[t._v("Price")])])])}],G=(r("4de4"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart-total"},[r("span",[t._v(" Total price: "),r("b",[t._v(t._s(t.shownTotalPriceWithDelivery))])])])}),Z=[],J={name:"Total",components:{},props:{},data:function(){return{}},computed:Object(n["a"])({},Object(i["c"])("cart",{shownTotalPriceWithDelivery:"shownTotalPriceWithDelivery"})),mounted:function(){},methods:{}},Q=J,V=Object(m["a"])(Q,G,Z,!1,null,null,null),K=V.exports,X={name:"Cart",components:{Total:K},props:{},data:function(){return{}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(i["c"])("cart",{inCartProducts:"products",shownDelivery:"shownDelivery",toUsdCoefficient:"toUsdCoefficient"})),Object(i["c"])("products",{allProducts:"items"})),{},{products:function(){var t=this;return this.allProducts.filter((function(e){return-1!==t.inCartProducts.map((function(t){return t.id})).indexOf(e.id)}))},isEmpty:function(){return this.products.length>0}}),mounted:function(){},methods:{checkout:function(){this.$router.push("/checkout")},usdProductPrice:function(t){var e=t.price*this.toUsdCoefficient;return e.toFixed()}}},tt=X,et=(r("223a"),Object(m["a"])(tt,H,Y,!1,null,null,null)),rt=et.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"e404"},[r("h1",[t._v("Page not found")]),r("router-link",{attrs:{to:{name:"products"}}},[t._v("Main Page")])],1)},at=[],st={name:"E404",components:{},props:{},data:function(){return{}},computed:{},mounted:function(){},methods:{}},nt=st,it=Object(m["a"])(nt,ot,at,!1,null,null,null),ct=it.exports,lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"checkout"},[t.isCHeckout?[t.isFormSubmitted?[r("h2",[t._v("Your order has been sent!")])]:[r("h1",[t._v("Checkout")]),r("form",[t._m(0),r("div",{staticClass:"text-left"},[r("total")],1),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.submitForm}},[t._v("Submit")])])])]]:[t._m(1)]],2)},ut=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputName"}},[t._v("Name")]),r("input",{staticClass:"form-control",attrs:{type:"text",id:"exampleInputName","aria-describedby":"nameHelp",placeholder:"Enter your Name"}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputPhone"}},[t._v("Phone")]),r("input",{staticClass:"form-control",attrs:{type:"phone",id:"exampleInputPhone","aria-describedby":"phoneHelp",placeholder:"Enter your Phone"}})])]),r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email")]),r("input",{staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter your Email"}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputAddress1"}},[t._v("Address")]),r("input",{staticClass:"form-control",attrs:{type:"text",id:"exampleInputAddress1",placeholder:"Enter your Address","aria-describedby":"addressHelp"}})])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"alert alert-warning"},[r("h2",[t._v("Your order is empty!")])])}],dt={name:"Checkout",components:{Total:K},props:{},data:function(){return{isFormSubmitted:!1}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(i["c"])("cart",{inCartProducts:"products",shownTotalPriceWithDelivery:"shownTotalPriceWithDelivery"})),Object(i["c"])("products",{allProducts:"items"})),{},{isCHeckout:function(){return this.products.length>0},products:function(){var t=this;return this.allProducts.filter((function(e){return-1!==t.inCartProducts.map((function(t){return t.id})).indexOf(e.id)}))},isLoggedIn:function(){return this.$store.getters.isAuthenticated},email:function(){return!!this.$store.getters.user&&this.$store.getters.user.email}}),mounted:function(){},methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])("cart",{cleanBasket:"clean"})),{},{submitForm:function(){var t={price:this.shownTotalPriceWithDelivery,products:[]};this.products.forEach((function(e){t.products.push(e.title)})),this.isLoggedIn&&(t.email=this.email),this.$store.dispatch("postOrder",t),this.isFormSubmitted=!0,this.cleanBasket()}})},mt=dt,pt=(r("4e55"),Object(m["a"])(mt,lt,ut,!1,null,null,null)),ft=pt.exports,ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("h1",[t._v("Sign In")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("div",{staticClass:"form-group text-left"},[t.isError?r("small",{staticClass:"error"},[t._v(t._s(t.textError))]):t._e()]),t._m(0)])])},vt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-left"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Login")])])}],bt={name:"Login",components:{},props:{},data:function(){return{email:"",password:"",isError:!1,textError:""}},computed:{},mounted:function(){},methods:{login:function(){var t=this,e={email:this.email,password:this.password};this.$store.dispatch("login",{email:e.email,password:e.password}).then((function(){t.isError=!1})).catch((function(){t.isError=!0,t.textError="Your email/password is incorrect"}))}}},gt=bt,_t=(r("039a"),Object(m["a"])(gt,ht,vt,!1,null,null,null)),yt=_t.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"registration"},[r("h1",[t._v("Registration")]),[r("form",{on:{submit:function(e){return e.preventDefault(),t.registration(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputName"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputName","aria-describedby":"namelHelp",placeholder:"Enter Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"form-group",class:{invalid:t.$v.email.$error}},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.email},on:{blur:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.$v.email.email?t._e():r("small",{staticClass:"error"},[t._v("Please provide a valid email address.")]),t.$v.email.unique?t._e():r("small",{staticClass:"error"},[t._v("This email address has been taken.")])]),r("div",{staticClass:"form-group",class:{invalid:t.$v.password.$error}},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{blur:function(e){return t.$v.password.$touch()},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.$v.password.minLength?t._e():r("small",{staticClass:"error"},[t._v("The password has to consider at least 6 characters.")])]),r("div",{staticClass:"text-left"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.$v.$invalid}},[t._v("Registration")]),r("span",{staticClass:"message"},[t._v("Already registered? "),r("router-link",{attrs:{to:"/login"}},[t._v("Sign In")])],1)])])]],2)},wt=[],Pt=(r("b64b"),r("b5ae")),kt={name:"Register",components:{},props:{},data:function(){return{name:"",email:"",password:""}},computed:{},mounted:function(){},methods:{registration:function(){var t={email:this.email,name:this.name,password:this.password};this.$store.dispatch("register",t)}},validations:{email:{required:Pt["required"],email:Pt["email"],unique:function(t){return""===t||T.a.get('https://vue-journal.firebaseio.com/users.json?orderBy="email"&equalTo="'+t+'"').then((function(t){return 0===Object.keys(t.data).length}))}},password:{required:Pt["required"],minLength:Object(Pt["minLength"])(6)}}},It=kt,Ot=(r("f30e"),Object(m["a"])(It,Ct,wt,!1,null,null,null)),xt=Ot.exports,jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"orders"},[r("h1",[t._v("Orders")]),r("table",{staticClass:"table table-bordered table-hover"},[t._m(0),r("tbody",t._l(t.orders,(function(e,o){return r("tr",[r("td",[t._v(t._s(++o))]),r("td",t._l(e.products,(function(e){return r("span",[t._v(t._s(e))])})),0),r("td",[t._v(t._s(e.price))])])})),0)])])},$t=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",{staticClass:"table-active"},[r("th",[t._v("#")]),r("th",[t._v("Order")]),r("th",[t._v("Price")])])])}],Et={name:"Orders",components:{},props:{},data:function(){return{}},computed:{orders:function(){return!!this.$store.getters.orders&&this.$store.getters.orders}},mounted:function(){},methods:{}},Tt=Et,St=(r("49ec"),Object(m["a"])(Tt,jt,$t,!1,null,null,null)),Ut=St.exports;o["a"].use(S["a"]);var Mt=[{path:"",redirect:{name:"products"}},{name:"products",path:"/products",component:N},{path:"/product/:id",component:R},{name:"cart",path:"/cart",component:rt},{name:"checkout",path:"/checkout",component:ft},{name:"login",path:"/login",component:yt,beforeEnter:function(t,e,r){localStorage.getItem("userId")?r("/products"):r()}},{name:"registration",path:"/register",component:xt,beforeEnter:function(t,e,r){localStorage.getItem("userId")?r("/products"):r()}},{path:"/orders",name:"orders",component:Ut,beforeEnter:function(t,e,r){localStorage.getItem("userId")?r():r("/login")}},{path:"*",component:ct}],Dt=new S["a"]({routes:Mt,mode:"history"}),zt=Dt,Lt={state:{idToken:null,userId:null,user:null,orders:null},getters:{isAuthenticated:function(t){return null!==t.idToken},user:function(t){return t.user},orders:function(t){return t.orders}},mutations:{authUser:function(t,e){t.idToken=e.token,t.userId=e.userId},storeUser:function(t,e){t.user=e},storeOrders:function(t,e){t.orders=e},clearAuthData:function(t){t.idToken=null,t.userId=null,t.user=null}},actions:{login:function(t,e){var r=t.commit,o=t.dispatch;return new Promise((function(t,a){T.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDWHnPyauu-psPBeWZGCOefMpBFn-DwkLc",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(e){localStorage.setItem("token",e.data.idToken),localStorage.setItem("userId",e.data.localId),localStorage.setItem("email",e.data.email),r("authUser",{token:e.data.idToken,userId:e.data.localId}),o("fetchUser"),zt.push("/products"),t()})).catch((function(){a()}))}))},register:function(t,e){var r=t.commit,o=t.dispatch;T.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDWHnPyauu-psPBeWZGCOefMpBFn-DwkLc",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){r("authUser",{token:t.data.idToken,userId:t.data.localId}),localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("email",t.data.email),o("storeUser",e),setTimeout((function(){o("fetchUser"),zt.push("/")}),2e3)})).catch((function(t){return console.log(t)}))},logout:function(t){var e=t.commit;e("clearAuthData"),localStorage.removeItem("token"),localStorage.removeItem("userId")},storeUser:function(t,e){var r=t.state;r.idToken&&T.a.post("https://innoscripta-test.firebaseio.com/users.json?auth="+r.idToken,e).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))},postOrder:function(t,e){var r=t.state,o=t.dispatch;r.idToken&&T.a.post("https://innoscripta-test.firebaseio.com/orders.json?auth="+r.idToken,e).then((function(){zt.push("/products"),o("fetchUser")})).catch((function(t){return console.log(t)}))},autoLogin:function(t){var e=t.commit,r=localStorage.getItem("token");if(r){var o=localStorage.getItem("userId");e("authUser",{token:r,userId:o})}},fetchUser:function(t){var e=t.commit,r=t.state;if(r.idToken){var o=localStorage.getItem("email");T.a.get('https://innoscripta-test.firebaseio.com/users.json?orderBy="email"&equalTo="'+o+'"').then((function(t){var r=t.data,o=[];for(var a in r){var s=r[a];s.id=a,o.push(s)}e("storeUser",o[0])})).catch((function(t){console.log(t)}))}},fetchOrders:function(t){var e=t.commit,r=t.state;if(r.idToken){var o=localStorage.getItem("email");T.a.get('https://innoscripta-test.firebaseio.com/orders.json?orderBy="email"&equalTo="'+o+'"').then((function(t){var r=t.data,o=Object.entries(r),a=[];o.forEach((function(t){a.push(t[1])})),e("storeOrders",a)})).catch((function(t){console.log(t)}))}}}};o["a"].use(i["a"]);var Nt=new i["a"].Store({modules:{cart:I,menu:O,products:x,modal:$,firebase:Lt},strict:!1}),Bt=r("59ca"),Ft=r.n(Bt),Wt=(r("e71f"),r("1dce")),qt=r.n(Wt);o["a"].use(qt.a);var At={apiKey:"AIzaSyDWHnPyauu-psPBeWZGCOefMpBFn-DwkLc",authDomain:"innoscripta-test.firebaseapp.com",databaseURL:"https://innoscripta-test.firebaseio.com",projectId:"innoscripta-test",storageBucket:"innoscripta-test.appspot.com",messagingSenderId:"169337926166",appId:"1:169337926166:web:3ca03588a546a22d8b7b37"};Ft.a.initializeApp(At);var Rt=Ft.a.firestore();new o["a"]({store:Nt,router:zt,render:function(t){return t(k)}}).$mount("#app")},"65e5":function(t,e,r){},"691c":function(t,e,r){},7174:function(t,e,r){},"85ec":function(t,e,r){},b03b:function(t,e,r){},c526:function(t,e,r){},f30e:function(t,e,r){"use strict";var o=r("0ea0"),a=r.n(o);a.a}});
//# sourceMappingURL=app.04302e88.js.map